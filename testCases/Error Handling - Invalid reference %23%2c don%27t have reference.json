{
  "name": "4c6bd33e-0a80-479d-b713-b6a95d60c48f",
  "tags": [ "#loanStatus", "#notFound", "#dontHave", "#agentTransfer" ],
  "displayName": "Error Handling - Invalid reference #, don't have reference",
  "testCaseConversationTurns": [ {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "hi can i know about my loans"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "loan_application.status"
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "Let's take a look at your loan application. \n" ]
      }, {
        "text": [ "What's the loan reference number?" ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "no"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.no"
      },
      "currentPage": {
        "name": "Check Has Loan Information",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "That's okay." ]
      }, {
        "text": [ "You can find your 9 digit loan reference on all communication from us, do you have your loan documentation with you?" ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "yes"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.yes"
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "What's the loan reference number?" ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "123901"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "Sorry, to get started, I need the 9 digit loan reference number. You should see that on the submission confirmation notice from us. Please provide that full number." ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "I don't have it"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "small_talk.dont_know"
      },
      "currentPage": {
        "name": "Check Has Loan Information",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "That's not a problem." ]
      }, {
        "text": [ "You can find your 9 digit loan reference on all communication from us, do you have your loan documentation with you?" ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "yes"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.yes"
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "Please enter your reference number now." ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "123"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "Sorry, to get started, I need the 9 digit loan reference number. You should see that on the submission confirmation notice from us. Please provide that full number." ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "9210"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "retry_count": 0
      },
      "currentPage": {
        "name": "Get Loan Reference",
        "flow": "Loan Application Status"
      },
      "textResponses": [ {
        "text": [ "I'm sorry again, I can only check the status based on the 9 digit loan reference number. This is on any communication from us. " ]
      } ],
      "currentFlow": {
        "name": "Loan Application Status"
      }
    }
  }, {
    "userInput": {
      "injectedParameters": {
        "in_hours": false
      },
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "10293"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "in_hours": false,
        "retry_count": 0
      },
      "currentPage": {
        "name": "Anything Else",
        "flow": "Speak to an Agent"
      },
      "textResponses": [ {
        "text": [ "I'm afraid I can only look up the status via the loan reference number. Let me see if someone is available to help you further. " ]
      }, {
        "text": [ "\nUnfortunately, we are closed at the moment. Please contact us again during our opening hours:\n\nMonday to Sunday, 8am to 8pm GMT.\n" ]
      }, {
        "text": [ "\nIs there anything else I can help with today?" ]
      } ],
      "currentFlow": {
        "name": "Speak to an Agent"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "no"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "in_hours": false,
        "retry_count": 0
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.no"
      },
      "currentPage": {
        "name": "End Session",
        "flow": "Speak to an Agent"
      },
      "textResponses": [ {
        "text": [ "Have a great day." ]
      } ],
      "currentFlow": {
        "name": "Speak to an Agent"
      }
    }
  } ],
  "creationTime": {
    "seconds": 1608065842,
    "nanos": 805643000
  }
}
